<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Регистрация</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<style>
    body {
        background-color: #212529;
    }
</style>
<body>
    <main>
        {% if user.is_authenticated %}
        <div class="px-4 my-1 text-center mx-auto col-lg-4">
            <p class=" mb-3">
            <div class="p-2 p-md-5 border-warning rounded-3 bg-warning" style="margin-top: 100px">
                <p class=" mb-1">
                <h4>
                    Действие недоступно, так как Вы уже авторизованы!<br><br>Перейдите на главную страницу либо выйдите
                    из учётной записи.</h4>
                <hr class="my-3">
                <a href='{% url 'main' %}' type="button" class="w-100 btn btn-lg btn-dark mb-2" style="font-size: 20px">Главная</a>
                <a href='{% url 'logout' %}' type="button" class="w-100 btn btn-lg btn-dark mb-2" style="font-size: 20px">Выйти</a>
            </div>
        </div>
        {% else %}
        <div class="container col-xl-10 col-xxl-8 px-4 py-5">
            <div class="row align-items-center g-lg-5 py-5">
                <div class="col-lg-7 text-center text-lg-start">
                    <h1 class="display-4 fw-bold lh-1 mb-3" style="color: aliceblue">Регистрация</h1>
                    <p class="col-lg-10 fs-6" style="color: aliceblue">Создайте учётную запись для доступа к сервису.
                        <br>Используйте надёжный пароль и не передавайте свои учётные данные третьим лицам.<br><br>Имя
                        пользователя должно иметь не более 150 символов. Только буквы, цифры и символы @/./+/-/_.<br>
                        Пароль должен содержать как минимум 8 символов и не может состоять только из цифр.
                    </p>
                </div>
                <div class="col-md-10 mx-auto col-lg-5" align="center">
                    <div class="p-4 p-md-5 border rounded-3 bg-light">
                        <form method="post"> {% csrf_token %} {% for p in form %}
                            {% if p.label != 'Адрес электронной почты' %}
                            <div style="margin-bottom: 10px">
                                <label for="{{ p.id_for_label }}">
                                    <h5>{{ p.label }}:</h5>
                                    <div style="font-size: 20px">{{ p }}</div>
                                    <div>{{ p.form.errors }}</div>
                                    {% endif %}
                                    {% endfor %}
                                    <h5>Тип учетной записи:</h5>
                                    <div style="font-size: 20px">
                                        <select name=type>
                                            <option value="detsad">Детский сад</option>
                                            <option value="ozelen">Озеленитель</option>
                                        </select>
                                    </div>
                            </div>

                            <div class='homebutton'>
                                <p>
                                    <button class="w-100 btn btn-lg btn-dark" style="font-size: 20px; margin-top: 10px" type="submit">Регистрация
                                    </button>
                                    <hr class="my-3">
                                    <a href='{% url 'auth' %}' type="button" class="w-100 btn btn-lg btn-secondary mb-2" style="font-size: 20px">Авторизация</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </main>
</body>
</html>